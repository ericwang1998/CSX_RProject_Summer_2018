kiva_loan <- kiva_loan[,2:21]
unique(kiva_loan$borrower_genders)
unique(kiva_loan$repayment_interval)
summary(kiva_loan$currency)
summary(as.factor(kiva_loan$currency))
kiva_loan$currency <- as.factor(kiva_loan$currency)
elif (kiva_loan$currency == AZN) {
kiva_loan$funded_amount * 0.59
kiva_loan$funded_amount * 0.59
elif (kiva_loan$currency == BIF) {
kiva_loan$funded_amount * 0.000568
kiva_loan$funded_amount * 0.000568
}
}
kiva_loan <- readxl::read_xlsx("~/GitHub/CSX_RProject_Summer_2018/week_5/data/kiva_loans.xlsx")
kiva_loan <- kiva_loan[!(kiva_loan$currency == "2014-05-26 05:25:33+00:00"|
kiva_loan$currency == "2015-11-23 04:52:48+00:00"|
kiva_loan$currency == "Webuye"|
kiva_loan$currency == "#Woman owned Biz"|
kiva_loan$currency == "user_favorite\""|
kiva_loan$currency == "121"|
kiva_loan$currency == "irregular"|
kiva_loan$currency == "monthly"|
kiva_loan$currency == "female"|
kiva_loan$currency == "42587"|
kiva_loan$currency == "42695"),]
kiva_loan <- kiva_loan[!(kiva_loan$country == "#Single Parent"),]
kiva_loan <- readxl::read_xlsx("~/GitHub/CSX_RProject_Summer_2018/week_5/data/kiva_loans.xlsx")
# remove errors in data entry
kiva_loan <- kiva_loan[!(kiva_loan$currency == "2014-05-26 05:25:33+00:00"|
kiva_loan$currency == "2015-11-23 04:52:48+00:00"|
kiva_loan$currency == "Webuye"|
kiva_loan$currency == "#Woman owned Biz"|
kiva_loan$currency == "user_favorite\""|
kiva_loan$currency == "121"|
kiva_loan$currency == "irregular"|
kiva_loan$currency == "monthly"|
kiva_loan$currency == "female"|
kiva_loan$currency == "42587"|
kiva_loan$currency == "42695"),]
kiva_loan <- kiva_loan[!(kiva_loan$country == "#Single Parent"),]
kiva_loan <- kiva_loan[,2:21]
kiva_loan$currency <- as.factor(kiva_loan$currency)
if (kiva_loan$currency == ALL) {
kiva_loan$funded_amount * 0.0092
kiva_loan$loan_amount * 0.0092 }
if (kiva_loan$currency == "ALL") {
kiva_loan$funded_amount * 0.0092
kiva_loan$loan_amount * 0.0092 }
if (kiva_loan$currency == "ALL") {
kiva_loan$funded_amount * 0.0092
kiva_loan$loan_amount * 0.0092
} else if (kiva_loan$currency == AMD) {
kiva_loan$funded_amount * 0.0021
kiva_loan$loan_amount * 0.0021
} else if(kiva_loan$currency == AZN) {
kiva_loan$funded_amount * 0.59
kiva_loan$loan_amount * 0.59
} else if(kiva_loan$currency == BIF) {
kiva_loan$funded_amount * 0.000568
kiva_loan$loan_amount * 0.000568
} else if (kiva_loan$currency == PK) {
kiva_loan$funded_amount * 0.0081
kiva_loan$loan_amount * 0.0081
} else {
kiva_loan$funded_amount * 1
kiva_loan$funded_amount * 1
}
kiva_loan <- readxl::read_xlsx("~/GitHub/CSX_RProject_Summer_2018/week_5/data/kiva_loans.xlsx")
# remove errors in data entry
kiva_better <- kiva_loan[!(kiva_loan$currency == "2014-05-26 05:25:33+00:00"|
kiva_loan$currency == "2015-11-23 04:52:48+00:00"|
kiva_loan$currency == "Webuye"|
kiva_loan$currency == "#Woman owned Biz"|
kiva_loan$currency == "user_favorite\""|
kiva_loan$currency == "121"|
kiva_loan$currency == "irregular"|
kiva_loan$currency == "monthly"|
kiva_loan$currency == "female"|
kiva_loan$currency == "42587"|
kiva_loan$currency == "42695"),]
kiva_better <- kiva_better[,2:21]
kiva_better$currency <- as.factor(kiva_better$currency)
kiva_better$loan_amount * 0.000568
if (kiva_better$currency == "ALL") {
kiva_better$funded_amount * 0.0092
kiva_better$loan_amount * 0.0092
} else if (kiva_better$currency == "AMD") {
kiva_better$funded_amount * 0.0021
kiva_better$loan_amount * 0.0021
} else if(kiva_better$currency == "AZN") {
kiva_better$funded_amount * 0.59
kiva_better$loan_amount * 0.59
} else if(kiva_better$currency == "BIF") {
kiva_better$funded_amount * 0.000568
kiva_better$loan_amount * 0.000568
} else if (kiva_better$currency == "PK") {
kiva_better$funded_amount * 0.0081
kiva_better$loan_amount * 0.0081
} else {
kiva_better$funded_amount * 1
kiva_better$funded_amount * 1
}
View(kiva_better)
shiny::runApp('GitHub/CSX_RProject_Summer_2018/week_5/Shiny_map')
runApp('GitHub/CSX_RProject_Summer_2018/week_5/Shiny_map')
runApp('GitHub/CSX_RProject_Summer_2018/week_5/Shiny_map')
runApp('GitHub/CSX_RProject_Summer_2018/week_5/Shiny_map')
runApp('GitHub/CSX_RProject_Summer_2018/week_5/Shiny_map')
View(kiva_better)
kiva_mpi <- readxl ::read_xlsx("~/GitHub/CSX_RProject_Summer_2018/week_5/data/kiva_mpi_region_locations.xlsx")
kiva_theme <- read.csv("~/GitHub/CSX_RProject_Summer_2018/week_5/data/loan_theme_ids.csv")
kiva_region <- read.csv("~/GitHub/CSX_RProject_Summer_2018/week_5/data/loan_themes_by_region.csv")
View(kiva_loan)
View(kiva_mpi)
runApp('GitHub/CSX_RProject_Summer_2018/week_5/Shiny_map')
runApp('GitHub/CSX_RProject_Summer_2018/week_5/Shiny_map')
runApp('GitHub/CSX_RProject_Summer_2018/week_5/Shiny_map')
runApp('GitHub/CSX_RProject_Summer_2018/week_5/Shiny_map')
runApp('GitHub/CSX_RProject_Summer_2018/week_5/Shiny_map')
runApp('GitHub/CSX_RProject_Summer_2018/week_5/Shiny_map')
runApp('GitHub/CSX_RProject_Summer_2018/week_5/Shiny_map')
runApp('GitHub/CSX_RProject_Summer_2018/week_5/Shiny_map')
runApp('GitHub/CSX_RProject_Summer_2018/week_5/Shiny_map')
runApp('GitHub/CSX_RProject_Summer_2018/week_5/Shiny_map')
class(quakes)
View(quakes)
runApp('GitHub/CSX_RProject_Summer_2018/week_5/Shiny_map')
kiva_mpi <- read_xlsx("~/GitHub/CSX_RProject_Summer_2018/week_5/data/kiva_mpi_region_locations.xlsx")
library(readxl)
kiva_mpi <- read_xlsx("~/GitHub/CSX_RProject_Summer_2018/week_5/data/kiva_mpi_region_locations.xlsx")
runApp('GitHub/CSX_RProject_Summer_2018/week_5/Shiny_map')
library(magrittr)
runApp('GitHub/CSX_RProject_Summer_2018/week_5/Shiny_map')
runApp('GitHub/CSX_RProject_Summer_2018/week_5/Shiny_map')
runApp('GitHub/CSX_RProject_Summer_2018/week_5/Shiny_map')
runApp('GitHub/CSX_RProject_Summer_2018/week_5/Shiny_map')
rm(list = lm())
rm(list = ls())
runApp('GitHub/CSX_RProject_Summer_2018/week_5/Shiny_map')
runApp('GitHub/CSX_RProject_Summer_2018/week_5/Shiny_map')
runApp('GitHub/CSX_RProject_Summer_2018/week_5/Shiny_map')
kiva_mpi <- read_xlsx("~/GitHub/CSX_RProject_Summer_2018/week_5/data/kiva_mpi_region_locations.xlsx")
View(kiva_mpi)
kiva_mpi<- kiva_mpi[complete.cases(kiva_mpi), ]
runApp('GitHub/CSX_RProject_Summer_2018/week_5/Shiny_map')
runApp('GitHub/CSX_RProject_Summer_2018/week_5/Shiny_map')
runApp('GitHub/CSX_RProject_Summer_2018/week_5/Shiny_map')
runApp('GitHub/CSX_RProject_Summer_2018/week_5/Shiny_map')
runApp('GitHub/CSX_RProject_Summer_2018/week_5/Shiny_map')
runApp('GitHub/CSX_RProject_Summer_2018/week_5/Shiny_map')
runApp('GitHub/CSX_RProject_Summer_2018/week_5/Shiny_map')
runApp('GitHub/CSX_RProject_Summer_2018/week_5/Shiny_map')
runApp('GitHub/CSX_RProject_Summer_2018/week_5/Shiny_map')
runApp('GitHub/CSX_RProject_Summer_2018/week_5/Shiny_map')
runApp('GitHub/CSX_RProject_Summer_2018/week_5/Shiny_map')
runApp('GitHub/CSX_RProject_Summer_2018/week_5/Shiny_map')
runApp('GitHub/CSX_RProject_Summer_2018/week_5/Shiny_map')
runApp('GitHub/CSX_RProject_Summer_2018/week_5/Shiny_map')
runApp('GitHub/CSX_RProject_Summer_2018/week_5/Shiny_map')
runApp('GitHub/CSX_RProject_Summer_2018/week_5')
runApp('GitHub/CSX_RProject_Summer_2018/week_5/Shiny_map')
runApp('GitHub/CSX_RProject_Summer_2018/week_5/Shiny_map')
runApp('GitHub/CSX_RProject_Summer_2018/week_5/Shiny_map')
runApp('GitHub/CSX_RProject_Summer_2018/week_5/Shiny_map')
runApp('GitHub/CSX_RProject_Summer_2018/week_5/Shiny_map')
runApp('GitHub/CSX_RProject_Summer_2018/week_5/Shiny_map')
runApp('GitHub/CSX_RProject_Summer_2018/week_5/Shiny_map')
runApp('GitHub/CSX_RProject_Summer_2018/week_5/Shiny_map')
runApp('GitHub/CSX_RProject_Summer_2018/week_5/Shiny_map')
runApp('GitHub/CSX_RProject_Summer_2018/week_5/Shiny_map')
runApp('GitHub/CSX_RProject_Summer_2018/week_5/Shiny_map')
runApp('GitHub/CSX_RProject_Summer_2018/week_5/Shiny_map')
runApp('GitHub/CSX_RProject_Summer_2018/week_5/Shiny_map')
shiny::runApp('GitHub/final-report')
runApp('GitHub/final-report')
runApp('GitHub/final-report')
runApp('GitHub/final-report')
runApp('GitHub/final-report')
runApp('GitHub/final-report')
runApp('GitHub/final-report')
runApp('GitHub/final-report')
runApp('GitHub/final-report')
runApp('GitHub/final-report')
runApp('GitHub/final-report')
runApp('GitHub/final-report')
runApp('GitHub/final-report')
runApp('GitHub/final-report')
runApp('GitHub/final-report')
runApp('GitHub/final-report')
runApp('GitHub/final-report')
runApp('GitHub/final-report')
runApp('GitHub/final-report')
runApp('GitHub/final-report')
loan$term_in_months
loan
kiva_mpi <- read.csv("./kiva/kiva_mpi_region_locations.csv")
kiva_mpi <- kiva_mpi[complete.cases(kiva_mpi), ]
loan <- read.csv("./kiva/kiva_loans-1.csv")
loan <- read.csv("~/GitHub/final-report/kiva/kiva_loans-1.csv")
kiva_mpi <- read.csv("~/GitHub/final-report/kiva/kiva_mpi_region_locations.csv")
kiva_mpi <- kiva_mpi[complete.cases(kiva_mpi), ]
loan$term_in_months
unique(loan$term_in_months)
kiva_better <- kiva_loan[!(kiva_loan$term_in_months == "#Repeat Borrower, #Parent, #Woman Owned Biz, #Single Parent, user_favorite"|"user_favorite"),]
kiva_better <- kiva_loan[!(loan$term_in_months == "#Repeat Borrower, #Parent, #Woman Owned Biz, #Single Parent, user_favorite"|"user_favorite"),]
kiva_better <- loan[!(loan$term_in_months == "#Repeat Borrower, #Parent, #Woman Owned Biz, #Single Parent, user_favorite"|"user_favorite"),]
kiva_better <- loan[!(loan$term_in_months == "#Repeat Borrower, #Parent, #Woman Owned Biz, #Single Parent, user_favorite"|loan$term_in_months =="user_favorite"),]
View(kiva_better)
kiva_better$term_in_months
kiva_better$term_in_months <- as.numeric(kiva_better$term_in_months)
kiva_better$term_in_months
runApp('GitHub/final-report')
runApp('GitHub/final-report')
runApp('GitHub/final-report')
runApp('GitHub/final-report')
runApp('GitHub/final-report')
runApp('GitHub/final-report')
runApp('GitHub/final-report')
runApp('GitHub/final-report')
kiva_loan <- readxl::read_xlsx("~/GitHub/CSX_RProject_Summer_2018/week_5/data/kiva_loans.xlsx")
kiva_loan <- kiva_loan[complete.cases(kiva_loan)]
kiva_loan <- kiva_loan[complete.cases(kiva_loan),]
# remove errors in data entry
kiva_better <- kiva_loan[!(kiva_loan$currency == "2014-05-26 05:25:33+00:00"|
kiva_loan$currency == "2015-11-23 04:52:48+00:00"|
kiva_loan$currency == "Webuye"|
kiva_loan$currency == "#Woman owned Biz"|
kiva_loan$currency == "user_favorite\""|
kiva_loan$currency == "121"|
kiva_loan$currency == "irregular"|
kiva_loan$currency == "monthly"|
kiva_loan$currency == "female"|
kiva_loan$currency == "42587"|
kiva_loan$currency == "42695"),]
kiva_better <- kiva_better[!(kiva_better$country == "#Single Parent"),]
class(kiva_better$currency)
kiva_better[kiva_better$currency == "PKR"] <- "0.008"
kiva_better$currency[kiva_better$currency == "PKR"] <- "0.008"
rm(kiva_loan)
kiva_better <- kiva_better[,2:21]
kiva_better$currency[kiva_better$currency == "PKR"] <- "0.008"
View(kiva_better)
kiva_better$currency[kiva_better$currency == "ALL"] <- "0.0092"
kiva_better$currency[kiva_better$currency == "AMD"] <- "0.0021"
kiva_better$currency[kiva_better$currency == "AZN"] <- "0.015"
kiva_better$currency[kiva_better$currency == "BIF"] <- "0.000568"
kiva_better$currency[kiva_better$currency == "PKR"] <- "0.008"
kiva_better$currency[kiva_better$currency == "INR"] <- "0.015"
kiva_better$currency[kiva_better$currency == "KES"] <- "0.001"
kiva_better$currency[kiva_better$currency == "NIO"] <- "0.03"
kiva_better$currency[kiva_better$currency == "TZS"] <- "0.0004"
kiva_better$currency[kiva_better$currency == "PHP"] <- "0.01"
kiva_better$currency[kiva_better$currency == "PEN"] <- "0.03"
kiva_better$currency[kiva_better$currency == "XOF"] <- "0.0018"
kiva_better$currency[kiva_better$currency == "LRD"] <- "0.0066"
kiva_better$currency[kiva_better$currency == "VND"] <- "0.000042"
kiva_better$currency[kiva_better$currency == "HNL"] <- "0.042"
kiva_better$currency[kiva_better$currency == "MNT"] <- "0.00041"
kiva_better$currency[kiva_better$currency == "COP"] <- "0.00034"
kiva_better$currency[kiva_better$currency == "GTQ"] <- "0.13"
kiva_better$currency[kiva_better$currency == "TJS"] <- "0.106"
kiva_better$currency[kiva_better$currency == "BOB"] <- "0.014"
kiva_better$currency[kiva_better$currency == "YER"] <- "0.004"
kiva_better$currency[kiva_better$currency == "KHR"] <- "0.00025"
kiva_better$currency[kiva_better$currency == "GHS"] <- "0.21"
kiva_better$currency[kiva_better$currency == "SLL"] <- "0.00012"
kiva_better$currency[kiva_better$currency == "HTG"] <- "0.015"
kiva_better$currency[kiva_better$currency == "CLP"] <- "0.0015"
kiva_better$currency[kiva_better$currency == "JOD"] <- "1.41"
kiva_better$currency[kiva_better$currency == "UGX"] <- "0.00027"
kiva_better$currency[kiva_better$currency == "BIF"] <- "0.00057"
kiva_better$currency[kiva_better$currency == "IDR"] <- "0.000069"
kiva_better$currency[kiva_better$currency == "GEL"] <- "0.4"
kiva_better$currency[kiva_better$currency == "UAH"] <- "0.037"
kiva_better$currency[kiva_better$currency == "EUR"] <- "1.15"
kiva_better$currency[kiva_better$currency == "CRC"] <- "0.0018"
kiva_better$currency[kiva_better$currency == "XAF"] <- "0.0018"
kiva_better$currency[kiva_better$currency == "TRY"] <- "0.19"
kiva_better$currency[kiva_better$currency == "AZN"] <- "0.59"
kiva_better$currency[kiva_better$currency == "DOP"] <- "0.02"
kiva_better$currency[kiva_better$currency == "BRL"] <- "0.26"
kiva_better$currency[kiva_better$currency == "MXN"] <- "0.054"
kiva_better$currency[kiva_better$currency == "KGS"] <- "0.015"
kiva_better$currency[kiva_better$currency == "PYG"] <- "0.00017"
kiva_better$currency[kiva_better$currency == "LBP"] <- "0.00066"
kiva_better$currency[kiva_better$currency == "WST"] <- "0.39"
kiva_better$currency[kiva_better$currency == "ILS"] <- "0.27"
kiva_better$currency[kiva_better$currency == "RWF"] <- "0.0011"
kiva_better$currency[kiva_better$currency == "ZMW"] <- "0.1"
kiva_better$currency[kiva_better$currency == "NPR"] <- "0.009"
kiva_better$currency[kiva_better$currency == "MZN"] <- "0.017"
kiva_better$currency[kiva_better$currency == "ZAR"] <- "0.075"
kiva_better$currency[kiva_better$currency == "BZD"] <- "0.49"
kiva_better$currency[kiva_better$currency == "SRD"] <- "0.13"
kiva_better$currency[kiva_better$currency == "NGN"] <- "0.0028"
kiva_better$currency[kiva_better$currency == "VUV"] <- "0.0089"
kiva_better$currency[kiva_better$currency == "XCD"] <- "0.37"
kiva_better$currency[kiva_better$currency == "MWK"] <- "0.0014"
kiva_better$currency[kiva_better$currency == "ZWD"] <- "0.0027"
kiva_better$currency[kiva_better$currency == "MDL"] <- "0.06"
kiva_better$currency[kiva_better$currency == "SSP"] <- "0.008"
kiva_better$currency[kiva_better$currency == "SBD"] <- "0.13"
kiva_better$currency[kiva_better$currency == "CNY"] <- "0.15"
kiva_better$currency[kiva_better$currency == "EGP"] <- "0.06"
kiva_better$currency[kiva_better$currency == "MGA"] <- "0.0003"
kiva_better$currency[kiva_better$currency == "NAD"] <- "0.075"
kiva_better$currency[kiva_better$currency == "LSL"] <- "0.075"
kiva_better$currency[kiva_better$currency == "THB"] <- "0.03"
kiva_better$currency[kiva_better$currency == "USD"] <- "1"
kiva_better$usd_loan <- kiva_better$loan_amount * kiva_better$currency
kiva_better$currency <- as.numeric(kiva_better$currency)
kiva_better$currency <- kiva_better[!is.na(kiva_better$currency),]
kiva_better <- kiva_better[!is.na(kiva_better$currency),]
kiva_better$currency <- as.numeric(kiva_better$currency)
kiva_better$usd_loan <- kiva_better$loan_amount * kiva_better$currency
View(kiva_better)
View(kiva_better)
rm(list = ls())
kiva_loan <- readxl::read_xlsx("~/GitHub/CSX_RProject_Summer_2018/week_5/data/kiva_loans.xlsx")
# remove errors in data entry
kiva_better <- kiva_loan[!(kiva_loan$currency == "2014-05-26 05:25:33+00:00"|
kiva_loan$currency == "2015-11-23 04:52:48+00:00"|
kiva_loan$currency == "Webuye"|
kiva_loan$currency == "#Woman owned Biz"|
kiva_loan$currency == "user_favorite\""|
kiva_loan$currency == "121"|
kiva_loan$currency == "irregular"|
kiva_loan$currency == "monthly"|
kiva_loan$currency == "female"|
kiva_loan$currency == "42587"|
kiva_loan$currency == "42695"),]
rm(kiva_loan)
kiva_better <- kiva_better[!is.na(kiva_better$currency),]
kiva_better <- kiva_better[!(kiva_better$country == "#Single Parent"),]
kiva_better$currency[kiva_better$currency == "ALL"] <- "0.0092"
kiva_better$currency[kiva_better$currency == "AMD"] <- "0.0021"
kiva_better$currency[kiva_better$currency == "AZN"] <- "0.015"
kiva_better$currency[kiva_better$currency == "BIF"] <- "0.000568"
kiva_better$currency[kiva_better$currency == "PKR"] <- "0.008"
kiva_better$currency[kiva_better$currency == "INR"] <- "0.015"
kiva_better$currency[kiva_better$currency == "KES"] <- "0.001"
kiva_better$currency[kiva_better$currency == "NIO"] <- "0.03"
kiva_better$currency[kiva_better$currency == "TZS"] <- "0.0004"
kiva_better$currency[kiva_better$currency == "PHP"] <- "0.01"
kiva_better$currency[kiva_better$currency == "PEN"] <- "0.03"
kiva_better$currency[kiva_better$currency == "XOF"] <- "0.0018"
kiva_better$currency[kiva_better$currency == "LRD"] <- "0.0066"
kiva_better$currency[kiva_better$currency == "VND"] <- "0.000042"
kiva_better$currency[kiva_better$currency == "HNL"] <- "0.042"
kiva_better$currency[kiva_better$currency == "MNT"] <- "0.00041"
kiva_better$currency[kiva_better$currency == "COP"] <- "0.00034"
kiva_better$currency[kiva_better$currency == "GTQ"] <- "0.13"
kiva_better$currency[kiva_better$currency == "TJS"] <- "0.106"
kiva_better$currency[kiva_better$currency == "YER"] <- "0.004"
kiva_better$currency[kiva_better$currency == "KHR"] <- "0.00025"
kiva_better$currency[kiva_better$currency == "GHS"] <- "0.21"
kiva_better$currency[kiva_better$currency == "BOB"] <- "0.014"
kiva_better$currency[kiva_better$currency == "SLL"] <- "0.00012"
kiva_better$currency[kiva_better$currency == "HTG"] <- "0.015"
kiva_better$currency[kiva_better$currency == "CLP"] <- "0.0015"
kiva_better$currency[kiva_better$currency == "JOD"] <- "1.41"
kiva_better$currency[kiva_better$currency == "UGX"] <- "0.00027"
kiva_better$currency[kiva_better$currency == "BIF"] <- "0.00057"
kiva_better$currency[kiva_better$currency == "IDR"] <- "0.000069"
kiva_better$currency[kiva_better$currency == "GEL"] <- "0.4"
kiva_better$currency[kiva_better$currency == "UAH"] <- "0.037"
kiva_better$currency[kiva_better$currency == "EUR"] <- "1.15"
kiva_better$currency[kiva_better$currency == "CRC"] <- "0.0018"
kiva_better$currency[kiva_better$currency == "XAF"] <- "0.0018"
kiva_better$currency[kiva_better$currency == "TRY"] <- "0.19"
kiva_better$currency[kiva_better$currency == "AZN"] <- "0.59"
kiva_better$currency[kiva_better$currency == "DOP"] <- "0.02"
kiva_better$currency[kiva_better$currency == "BRL"] <- "0.26"
kiva_better$currency[kiva_better$currency == "MXN"] <- "0.054"
kiva_better$currency[kiva_better$currency == "PYG"] <- "0.00017"
kiva_better$currency[kiva_better$currency == "LBP"] <- "0.00066"
kiva_better$currency[kiva_better$currency == "WST"] <- "0.39"
kiva_better$currency[kiva_better$currency == "ILS"] <- "0.27"
kiva_better$currency[kiva_better$currency == "ZMW"] <- "0.1"
kiva_better$currency[kiva_better$currency == "NPR"] <- "0.009"
kiva_better$currency[kiva_better$currency == "MZN"] <- "0.017"
kiva_better$currency[kiva_better$currency == "ZAR"] <- "0.075"
kiva_better$currency[kiva_better$currency == "KGS"] <- "0.015"
kiva_better$currency[kiva_better$currency == "BZD"] <- "0.49"
kiva_better$currency[kiva_better$currency == "SRD"] <- "0.13"
kiva_better$currency[kiva_better$currency == "NGN"] <- "0.0028"
kiva_better$currency[kiva_better$currency == "VUV"] <- "0.0089"
kiva_better$currency[kiva_better$currency == "RWF"] <- "0.0011"
kiva_better$currency[kiva_better$currency == "XCD"] <- "0.37"
kiva_better$currency[kiva_better$currency == "MWK"] <- "0.0014"
kiva_better$currency[kiva_better$currency == "ZWD"] <- "0.0027"
kiva_better$currency[kiva_better$currency == "MDL"] <- "0.06"
kiva_better$currency[kiva_better$currency == "SSP"] <- "0.008"
kiva_better$currency[kiva_better$currency == "SBD"] <- "0.13"
kiva_better$currency[kiva_better$currency == "CNY"] <- "0.15"
kiva_better$currency[kiva_better$currency == "EGP"] <- "0.06"
kiva_better$currency[kiva_better$currency == "MGA"] <- "0.0003"
kiva_better$currency[kiva_better$currency == "NAD"] <- "0.075"
kiva_better$currency[kiva_better$currency == "LSL"] <- "0.075"
kiva_better$currency[kiva_better$currency == "THB"] <- "0.03"
kiva_better$currency[kiva_better$currency == "USD"] <- "1"
kiva_better$currency <- as.numeric(kiva_better$currency)
kiva_better <- kiva_better[!is.na(kiva_better$currency),]
kiva_better$currency <- as.numeric(kiva_better$currency)
kiva_better$usd_loan <- kiva_better$loan_amount * kiva_better$currency
View(kiva_better)
shiny::runApp('GitHub/final-report')
kiva_better <- kiva_better[,-2]
View(kiva_better)
View(kiva_better)
kiva_better <- kiva_better[,-10:-14]
runApp('GitHub/final-report')
kiva_better <- kiva_better[,-15]
kiva_better <- kiva_better[,-9]
kiva_loan <- readxl::read_xlsx("~/GitHub/CSX_RProject_Summer_2018/week_5/data/kiva_loans.xlsx")
# remove errors in data entry
kiva_better <- kiva_loan[!(kiva_loan$currency == "2014-05-26 05:25:33+00:00"|
kiva_loan$currency == "2015-11-23 04:52:48+00:00"|
kiva_loan$currency == "Webuye"|
kiva_loan$currency == "#Woman owned Biz"|
kiva_loan$currency == "user_favorite\""|
kiva_loan$currency == "121"|
kiva_loan$currency == "irregular"|
kiva_loan$currency == "monthly"|
kiva_loan$currency == "female"|
kiva_loan$currency == "42587"|
kiva_loan$currency == "42695"),]
rm(kiva_loan)
kiva_better <- kiva_better[!(kiva_better$country == "#Single Parent"),]
kiva_better$currency[kiva_better$currency == "ALL"] <- "0.0092"
kiva_better$currency[kiva_better$currency == "AMD"] <- "0.0021"
kiva_better$currency[kiva_better$currency == "AZN"] <- "0.015"
kiva_better$currency[kiva_better$currency == "BIF"] <- "0.000568"
kiva_better$currency[kiva_better$currency == "PKR"] <- "0.008"
kiva_better$currency[kiva_better$currency == "INR"] <- "0.015"
kiva_better$currency[kiva_better$currency == "KES"] <- "0.001"
kiva_better$currency[kiva_better$currency == "NIO"] <- "0.03"
kiva_better$currency[kiva_better$currency == "TZS"] <- "0.0004"
kiva_better$currency[kiva_better$currency == "PHP"] <- "0.01"
kiva_better$currency[kiva_better$currency == "PEN"] <- "0.03"
kiva_better$currency[kiva_better$currency == "XOF"] <- "0.0018"
kiva_better$currency[kiva_better$currency == "LRD"] <- "0.0066"
kiva_better$currency[kiva_better$currency == "VND"] <- "0.000042"
kiva_better$currency[kiva_better$currency == "HNL"] <- "0.042"
kiva_better$currency[kiva_better$currency == "MNT"] <- "0.00041"
kiva_better$currency[kiva_better$currency == "COP"] <- "0.00034"
kiva_better$currency[kiva_better$currency == "GTQ"] <- "0.13"
kiva_better$currency[kiva_better$currency == "TJS"] <- "0.106"
kiva_better$currency[kiva_better$currency == "BOB"] <- "0.014"
kiva_better$currency[kiva_better$currency == "YER"] <- "0.004"
kiva_better$currency[kiva_better$currency == "KHR"] <- "0.00025"
kiva_better$currency[kiva_better$currency == "GHS"] <- "0.21"
kiva_better$currency[kiva_better$currency == "SLL"] <- "0.00012"
kiva_better$currency[kiva_better$currency == "HTG"] <- "0.015"
kiva_better$currency[kiva_better$currency == "CLP"] <- "0.0015"
kiva_better$currency[kiva_better$currency == "JOD"] <- "1.41"
kiva_better$currency[kiva_better$currency == "UGX"] <- "0.00027"
kiva_better$currency[kiva_better$currency == "BIF"] <- "0.00057"
kiva_better$currency[kiva_better$currency == "IDR"] <- "0.000069"
kiva_better$currency[kiva_better$currency == "GEL"] <- "0.4"
kiva_better$currency[kiva_better$currency == "UAH"] <- "0.037"
kiva_better$currency[kiva_better$currency == "EUR"] <- "1.15"
kiva_better$currency[kiva_better$currency == "CRC"] <- "0.0018"
kiva_better$currency[kiva_better$currency == "XAF"] <- "0.0018"
kiva_better$currency[kiva_better$currency == "TRY"] <- "0.19"
kiva_better$currency[kiva_better$currency == "AZN"] <- "0.59"
kiva_better$currency[kiva_better$currency == "DOP"] <- "0.02"
kiva_better$currency[kiva_better$currency == "BRL"] <- "0.26"
kiva_better$currency[kiva_better$currency == "MXN"] <- "0.054"
kiva_better$currency[kiva_better$currency == "KGS"] <- "0.015"
kiva_better$currency[kiva_better$currency == "PYG"] <- "0.00017"
kiva_better$currency[kiva_better$currency == "LBP"] <- "0.00066"
kiva_better$currency[kiva_better$currency == "WST"] <- "0.39"
kiva_better$currency[kiva_better$currency == "ILS"] <- "0.27"
kiva_better$currency[kiva_better$currency == "RWF"] <- "0.0011"
kiva_better$currency[kiva_better$currency == "ZMW"] <- "0.1"
kiva_better$currency[kiva_better$currency == "NPR"] <- "0.009"
kiva_better$currency[kiva_better$currency == "MZN"] <- "0.017"
kiva_better$currency[kiva_better$currency == "ZAR"] <- "0.075"
kiva_better$currency[kiva_better$currency == "BZD"] <- "0.49"
kiva_better$currency[kiva_better$currency == "SRD"] <- "0.13"
kiva_better$currency[kiva_better$currency == "NGN"] <- "0.0028"
kiva_better$currency[kiva_better$currency == "VUV"] <- "0.0089"
kiva_better$currency[kiva_better$currency == "XCD"] <- "0.37"
kiva_better$currency[kiva_better$currency == "MWK"] <- "0.0014"
kiva_better$currency[kiva_better$currency == "ZWD"] <- "0.0027"
kiva_better$currency[kiva_better$currency == "MDL"] <- "0.06"
kiva_better$currency[kiva_better$currency == "SSP"] <- "0.008"
kiva_better$currency[kiva_better$currency == "SBD"] <- "0.13"
kiva_better$currency[kiva_better$currency == "CNY"] <- "0.15"
kiva_better$currency[kiva_better$currency == "EGP"] <- "0.06"
kiva_better$currency[kiva_better$currency == "MGA"] <- "0.0003"
kiva_better$currency[kiva_better$currency == "NAD"] <- "0.075"
kiva_better$currency[kiva_better$currency == "LSL"] <- "0.075"
kiva_better$currency[kiva_better$currency == "THB"] <- "0.03"
kiva_better$currency[kiva_better$currency == "USD"] <- "1"
kiva_better <- kiva_better[!is.na(kiva_better$currency),]
kiva_better$currency <- as.numeric(kiva_better$currency)
kiva_better <- kiva_better[!is.na(kiva_better$currency),]
kiva_better$loan_amount <- kiva_better$loan_amount * kiva_better$currency
kiva_better$loan_amount <- kiva_better$loan_amount * kiva_better$currency
kiva$better$loan_amount[is.na(kiva_better$loan_amount)]
kiva_better$loan_amount[is.na(kiva_better$loan_amount)]
kiva_better <- kiva_better[,-2]
kiva_better <- kiva_better[,-10:-14]
kiva_better <- kiva_better[,-15]
kiva_better <- kiva_better[,-9]
kiva_better <- kiva_better[,-11]
saveRDS(kiva_better, "cleaned_loans.rds")
setwd("~/GitHub/CSX_RProject_Summer_2018/week_5")
saveRDS(kiva_better, "cleaned_loans.rds")
